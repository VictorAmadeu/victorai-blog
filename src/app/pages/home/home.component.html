<!-- ========================= HERO (texto + imagen) ========================= -->
<div class="container py-5">
  <div class="row align-items-center g-4">

    <!-- 1) Columna de texto (presentación del blog) -->
    <div class="col-12 col-lg-6">
      <h1 class="display-5 fw-bold">Victor Amadeu AI Blog</h1>

      <!-- 1.2) Párrafos intro -->
      <p class="lead">
        La Inteligencia Artificial (IA) ha dejado de ser un concepto exclusivo de la ciencia ficción para convertirse en una de las tecnologías más influyentes de nuestro tiempo. Desde los asistentes virtuales que utilizamos a diario hasta los algoritmos que recomiendan películas, diagnostican enfermedades o impulsan la conducción autónoma, la IA está transformando la forma en que vivimos, trabajamos y nos relacionamos.
      </p>
      <p class="lead">
        Este blog nace con el propósito de acercar el mundo de la Inteligencia Artificial a todos los públicos, ya sean estudiantes, profesionales del sector tecnológico o personas curiosas por comprender cómo funciona esta revolución digital. Aquí encontrarás artículos explicativos, análisis de tendencias, tutoriales prácticos y reflexiones sobre los impactos sociales, éticos y económicos que acompañan a esta tecnología.
      </p>
      <p class="lead mb-3">
        El objetivo es claro: informar, inspirar y fomentar el pensamiento crítico sobre la IA, entendiendo no solo su potencial, sino también sus límites y desafíos. Porque hablar de Inteligencia Artificial no es hablar solo de máquinas, sino también del futuro de la humanidad.
      </p>

      <!-- 1.5) Botones de navegación rápida -->
      <div class="d-flex gap-2 flex-wrap">
        <a class="btn btn-primary" routerLink="/articulos">Ver artículos</a>
        <a class="btn btn-outline-secondary" routerLink="/sobre-mi">Sobre mí</a>
      </div>
    </div>

    <!-- 2) Columna con imagen del hero -->
    <div class="col-12 col-lg-6 text-center">
      <img
        src="assets/img/hero.jpg"
        class="img-fluid rounded w-100"
        alt="Hero"
        loading="lazy"
        style="max-height:480px; object-fit:cover;">
    </div>
  </div>
</div>

<!-- ======================== ÚLTIMOS ARTÍCULOS (con skeletons) =================== -->
<div class="container pb-5">
  <h2 class="h3 mb-3">Últimos Artículos</h2>

  <!-- 4) Skeleton loaders mientras postsLoading === true -->
  <ng-container *ngIf="postsLoading; else postsList">
    <div class="row g-4">
      <div class="col-12 col-md-4" *ngFor="let n of [1,2,3]">
        <ui-card>
          <ui-skeleton height="200px"></ui-skeleton>
          <ui-skeleton height="18px" width="80%" class="mt-3"></ui-skeleton>
          <ui-skeleton height="16px" width="60%" class="mt-2"></ui-skeleton>
        </ui-card>
      </div>
    </div>
  </ng-container>

  <!-- 5) Contenido real cuando termina la carga -->
  <ng-template #postsList>
    <!-- 5.1) Error -->
    <div *ngIf="postsError" class="alert alert-danger">
      {{ postsError }}
    </div>

    <!-- 5.2) Vacío -->
    <div *ngIf="!postsError && latestPosts.length === 0" class="text-muted">
      Aún no hay artículos publicados.
    </div>

    <!-- 5.3) Grid de tarjetas reales -->
    <div class="row g-4" *ngIf="!postsError && latestPosts.length > 0">

      <!-- 5.3.a) Iteramos posts; trackBy para rendimiento -->
      <div class="col-12 col-md-4" *ngFor="let post of latestPosts; trackBy: trackById">
        <div class="card h-100 shadow-sm">
          <img
            [src]="coverFor(post)"
            class="card-img-top"
            [attr.alt]="post.title"
            loading="lazy"
            style="height:200px; object-fit:cover;">

          <div class="card-body">
            <!-- 5.3.a.2) Badge de categoría si existe (sin 'as any' en el template) -->
            <ng-container *ngIf="categorySlug(post) as slug">
              <a
                class="badge text-bg-light text-decoration-none mb-2 d-inline-block"
                [routerLink]="['/categorias', slug]">
                {{ slugLabel(slug) }}
              </a>
            </ng-container>

            <h5 class="card-title mb-1">{{ post.title }}</h5>

            <p class="text-muted small mb-3" *ngIf="post.created_at">
              {{ post.created_at | date:'d MMM yyyy' }}
            </p>

            <p class="card-text">
              {{ (post.content || '') | slice:0:160 }}
              <span *ngIf="(post.content || '').length > 160">…</span>
            </p>

            <a
              class="btn btn-sm btn-outline-primary stretched-link"
              [routerLink]="readMoreLink(post)"
              [attr.aria-label]="'Leer más sobre ' + post.title">
              Leer más
            </a>
          </div>
        </div>
      </div>

      <!-- 5.3.b) TARJETA FIJA: “Ejercicios de Python” -->
      <div class="col-12 col-md-4">
        <div class="card h-100 shadow-sm">
          <img
            src="assets/img/python-card.jpg"
            class="card-img-top"
            alt="Ejercicios de Python"
            loading="lazy"
            style="height:200px; object-fit:cover;">
          <div class="card-body">
            <span class="badge text-bg-light d-inline-block mb-2">python</span>
            <h5 class="card-title mb-1">Ejercicios de Python: guía práctica</h5>
            <p class="text-muted small mb-3">
              Colección de ejercicios prácticos para aprender Python paso a paso.
            </p>
            <a
              class="btn btn-sm btn-outline-primary stretched-link"
              routerLink="/python"
              aria-label="Ir a ejercicios de Python">
              Leer más
            </a>
          </div>
        </div>
      </div>

    </div> <!-- /row -->
  </ng-template>
</div>

<!-- ============================= CHIPS DE CATEGORÍAS ======================= -->
<section class="container mt-5">
  <div class="row g-3">
    <div class="col-12 col-md-4">
      <a class="btn btn-light w-100 py-3 shadow-sm" routerLink="/categorias">IA</a>
    </div>
    <div class="col-12 col-md-4">
      <a class="btn btn-light w-100 py-3 shadow-sm" routerLink="/categorias">Desarrollo</a>
    </div>
    <div class="col-12 col-md-4">
      <a class="btn btn-light w-100 py-3 shadow-sm" routerLink="/python">Python</a>
    </div>
  </div>
</section>

<!-- ============================ CONTACTO (destino del botón “Mensajes”) === -->
<section id="contacto" class="container mt-5 p-4 p-md-5 bg-white rounded-4 shadow-sm">
  <h3 class="h4">Envíanos tu mensaje</h3>
  <p class="text-secondary">Feedback, sugerencias o preguntas: ¡te leemos!</p>

  <form class="row g-3" #f="ngForm" (ngSubmit)="onSendMessage(f)" novalidate>
    <div class="col-12 col-md-6">
      <input
        class="form-control form-control-lg"
        placeholder="Tu nombre"
        name="name"
        [(ngModel)]="contact.name"
        required minlength="2" maxlength="100"
        #nameCtrl="ngModel">
      <small class="text-danger" *ngIf="nameCtrl.invalid && nameCtrl.touched">
        El nombre es obligatorio (2–100).
      </small>
    </div>

    <div class="col-12 col-md-6">
      <input
        type="email"
        class="form-control form-control-lg"
        placeholder="Tu correo"
        name="email"
        [(ngModel)]="contact.email"
        required email
        #emailCtrl="ngModel">
      <small class="text-danger" *ngIf="emailCtrl.invalid && emailCtrl.touched">
        Introduce un correo válido.
      </small>
    </div>

    <div class="col-12">
      <input
        class="form-control form-control-lg"
        placeholder="Asunto"
        name="subject"
        [(ngModel)]="contact.subject"
        required minlength="2" maxlength="150"
        #subjectCtrl="ngModel">
      <small class="text-danger" *ngIf="subjectCtrl.invalid && subjectCtrl.touched">
        Asunto obligatorio (2–150).
      </small>
    </div>

    <div class="col-12">
      <textarea
        class="form-control"
        rows="5"
        placeholder="Escribe tu mensaje…"
        name="message"
        [(ngModel)]="contact.message"
        required minlength="10" maxlength="5000"
        #messageCtrl="ngModel"></textarea>
      <small class="text-danger" *ngIf="messageCtrl.invalid && messageCtrl.touched">
        Mensaje obligatorio (mín. 10 caracteres).
      </small>
    </div>

    <div class="col-12 d-grid d-md-flex gap-2">
      <button class="btn btn-primary btn-lg" type="submit" [disabled]="f.invalid || sending">
        {{ sending ? 'Enviando…' : 'Enviar mensaje' }}
      </button>

      <span class="text-success align-self-center" *ngIf="successMsg">{{ successMsg }}</span>
      <span class="text-danger align-self-center" *ngIf="errorMsg">{{ errorMsg }}</span>
    </div>
  </form>
</section>
<!-- ============================ FIN CONTACTO =============================== -->
